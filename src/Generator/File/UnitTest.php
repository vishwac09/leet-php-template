<?php

namespace PHPAlgorithmScaffold\Generator\File;

class UnitTest extends File
{
    /**
     * @inheritDoc
     */
    public function create(string $path, string $name): bool
    {
        $problemTestFile = new \Nette\PhpGenerator\PhpFile();
        $problemTestFile->addComment('Autogenerated test case file for problem ' . $name);
        $problemTestFile->addUse('PHPUnit\Framework\TestCase');
        $useName = str_replace('Test', '', $name);
        $problemTestFile->addUse('LeetCode\Problems\\' . $useName . '\\' . $useName);
        file_put_contents($path . '/' . $name . '.php', $problemTestFile);
        $class = new \Nette\PhpGenerator\ClassType($name);
        $class->setExtends('TestCase')->setFinal();
        $class->addMethod('test' . $name . 'Example1');
        file_put_contents($path . '/' . $name . '.php', $class, FILE_APPEND);
        return true;
    }
}
